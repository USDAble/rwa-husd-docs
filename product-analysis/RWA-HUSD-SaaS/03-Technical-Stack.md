# RWA-HUSD SaaSå¹³å°æŠ€æœ¯æ ˆè¯¦è§£

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¶é—´**: 2025-10-11 09:10:00 CST  
**æ–‡æ¡£ç±»å‹**: æŠ€æœ¯æ ˆè¯¦è§£  

---

## ğŸ“‘ ç›®å½•

1. [å‰ç«¯æŠ€æœ¯æ ˆ](#1-å‰ç«¯æŠ€æœ¯æ ˆ)
2. [åç«¯æŠ€æœ¯æ ˆ](#2-åç«¯æŠ€æœ¯æ ˆ)
3. [åŒºå—é“¾é›†æˆ](#3-åŒºå—é“¾é›†æˆ)
4. [å®‰å…¨æ–¹æ¡ˆ](#4-å®‰å…¨æ–¹æ¡ˆ)
5. [éƒ¨ç½²æ–¹æ¡ˆ](#5-éƒ¨ç½²æ–¹æ¡ˆ)

---

## 1. å‰ç«¯æŠ€æœ¯æ ˆ

### 1.1 æ ¸å¿ƒæ¡†æ¶

#### React 18.x
**é€‰å‹ç†ç”±**:
- ç”Ÿæ€ç³»ç»Ÿæˆç†Ÿï¼Œç¤¾åŒºæ´»è·ƒ
- ç»„ä»¶åŒ–å¼€å‘ï¼Œä»£ç å¤ç”¨æ€§é«˜
- Virtual DOMï¼Œæ€§èƒ½ä¼˜ç§€
- Hooks APIï¼ŒçŠ¶æ€ç®¡ç†ç®€æ´

**æ›¿ä»£æ–¹æ¡ˆ**:
- Vue 3: æ›´ç®€å•æ˜“å­¦ï¼Œä½†ä¼ä¸šçº§ç”Ÿæ€ä¸å¦‚React
- Angular: åŠŸèƒ½å…¨é¢ï¼Œä½†å­¦ä¹ æ›²çº¿é™¡å³­

#### Next.js 14.x
**é€‰å‹ç†ç”±**:
- æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ï¼ŒSEOå‹å¥½
- é™æ€ç«™ç‚¹ç”Ÿæˆï¼ˆSSGï¼‰ï¼Œæ€§èƒ½ä¼˜ç§€
- APIè·¯ç”±ï¼Œå‰åç«¯ä¸€ä½“åŒ–
- è‡ªåŠ¨ä»£ç åˆ†å‰²ï¼ŒåŠ è½½é€Ÿåº¦å¿«

**æ›¿ä»£æ–¹æ¡ˆ**:
- Nuxt.js: Vueç”Ÿæ€çš„SSRæ¡†æ¶
- Remix: æ–°å…´æ¡†æ¶ï¼Œä½†ç”Ÿæ€ä¸å¤Ÿæˆç†Ÿ

#### TypeScript 5.x
**é€‰å‹ç†ç”±**:
- ç±»å‹å®‰å…¨ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯
- ä»£ç æç¤ºï¼Œå¼€å‘æ•ˆç‡é«˜
- é‡æ„å‹å¥½ï¼Œç»´æŠ¤æˆæœ¬ä½
- ä¸Reactç”Ÿæ€å®Œç¾é›†æˆ

**æ›¿ä»£æ–¹æ¡ˆ**:
- JavaScript: çµæ´»æ€§é«˜ï¼Œä½†ç¼ºå°‘ç±»å‹æ£€æŸ¥

### 1.2 UIæ¡†æ¶

#### TailwindCSS 3.x
**é€‰å‹ç†ç”±**:
- åŸå­åŒ–CSSï¼Œå¿«é€Ÿå¼€å‘
- å“åº”å¼è®¾è®¡ï¼Œç§»åŠ¨ç«¯å‹å¥½
- å¯å®šåˆ¶æ€§å¼ºï¼Œç¬¦åˆè®¾è®¡ç³»ç»Ÿ
- ç”Ÿäº§ç¯å¢ƒä½“ç§¯å°ï¼ˆPurgeCSSï¼‰

**æ›¿ä»£æ–¹æ¡ˆ**:
- Material-UI: ç»„ä»¶ä¸°å¯Œï¼Œä½†å®šåˆ¶æ€§å·®
- Ant Design: ä¼ä¸šçº§UIï¼Œä½†ä½“ç§¯è¾ƒå¤§

#### shadcn/ui
**é€‰å‹ç†ç”±**:
- åŸºäºRadix UIï¼Œå¯è®¿é—®æ€§å¥½
- ç°ä»£è®¾è®¡é£æ ¼ï¼Œç¬¦åˆWeb3å®¡ç¾
- å¯å®šåˆ¶æ€§å¼ºï¼Œå¯ç›´æ¥ä¿®æ”¹æºç 
- ä¸TailwindCSSå®Œç¾é›†æˆ

**æ›¿ä»£æ–¹æ¡ˆ**:
- Chakra UI: ç»„ä»¶ä¸°å¯Œï¼Œä½†æ€§èƒ½ä¸å¦‚shadcn/ui
- Headless UI: æ— æ ·å¼ç»„ä»¶ï¼Œéœ€è¦è‡ªå·±å†™CSS

### 1.3 Web3é›†æˆ

#### Wagmi 2.x
**é€‰å‹ç†ç”±**:
- React Hooks APIï¼Œæ˜“äºä½¿ç”¨
- TypeScriptæ”¯æŒï¼Œç±»å‹å®‰å…¨
- è‡ªåŠ¨å¤„ç†é’±åŒ…è¿æ¥ã€ç­¾åã€äº¤æ˜“
- ä¸Viemå®Œç¾é›†æˆ

**æ›¿ä»£æ–¹æ¡ˆ**:
- Web3-React: åŠŸèƒ½å¼ºå¤§ï¼Œä½†APIå¤æ‚
- useDApp: ç®€å•æ˜“ç”¨ï¼Œä½†åŠŸèƒ½æœ‰é™

#### Viem 2.x
**é€‰å‹ç†ç”±**:
- è½»é‡çº§ï¼ˆä½“ç§¯å°äºEthers.jsï¼‰
- TypeScriptåŸç”Ÿæ”¯æŒ
- æ€§èƒ½ä¼˜ç§€ï¼ˆæ¯”Ethers.jså¿«2-3å€ï¼‰
- æ¨¡å—åŒ–è®¾è®¡ï¼ŒæŒ‰éœ€å¼•å…¥

**æ›¿ä»£æ–¹æ¡ˆ**:
- Ethers.js: æ›´æˆç†Ÿï¼Œä½†ä½“ç§¯è¾ƒå¤§
- Web3.js: åŠŸèƒ½å…¨é¢ï¼Œä½†APIè®¾è®¡è€æ—§

### 1.4 çŠ¶æ€ç®¡ç†

#### Zustand 4.x
**é€‰å‹ç†ç”±**:
- è½»é‡çº§ï¼ˆä½“ç§¯å°äºReduxï¼‰
- APIç®€å•ï¼Œå­¦ä¹ æ›²çº¿å¹³ç¼“
- æ€§èƒ½ä¼˜ç§€ï¼Œæ— ä¸å¿…è¦çš„é‡æ¸²æŸ“
- TypeScriptæ”¯æŒè‰¯å¥½

**æ›¿ä»£æ–¹æ¡ˆ**:
- Redux Toolkit: åŠŸèƒ½å¼ºå¤§ï¼Œä½†å¤æ‚åº¦é«˜
- Jotai: åŸå­åŒ–çŠ¶æ€ï¼Œä½†ç”Ÿæ€ä¸å¤Ÿæˆç†Ÿ

#### React Query 5.x
**é€‰å‹ç†ç”±**:
- è‡ªåŠ¨ç¼“å­˜ç®¡ç†
- è‡ªåŠ¨é‡è¯•å’Œé”™è¯¯å¤„ç†
- ä¹è§‚æ›´æ–°ï¼Œç”¨æˆ·ä½“éªŒå¥½
- ä¸Wagmiå®Œç¾é›†æˆ

**æ›¿ä»£æ–¹æ¡ˆ**:
- SWR: ç®€å•æ˜“ç”¨ï¼Œä½†åŠŸèƒ½ä¸å¦‚React Query
- Apollo Client: GraphQLä¸“ç”¨ï¼Œä¸é€‚åˆREST API

---

## 2. åç«¯æŠ€æœ¯æ ˆ

### 2.1 æ ¸å¿ƒæ¡†æ¶

#### NestJS 10.x
**é€‰å‹ç†ç”±**:
- ä¼ä¸šçº§æ¡†æ¶ï¼Œæ¶æ„æ¸…æ™°
- æ¨¡å—åŒ–è®¾è®¡ï¼Œä»£ç ç»„ç»‡è‰¯å¥½
- ä¾èµ–æ³¨å…¥ï¼Œæµ‹è¯•å‹å¥½
- TypeScriptåŸç”Ÿæ”¯æŒ

**æ›¿ä»£æ–¹æ¡ˆ**:
- Express.js: ç®€å•çµæ´»ï¼Œä½†ç¼ºå°‘ä¼ä¸šçº§ç‰¹æ€§
- Fastify: æ€§èƒ½ä¼˜ç§€ï¼Œä½†ç”Ÿæ€ä¸å¦‚NestJS

### 2.2 æ•°æ®åº“

#### PostgreSQL 15.x
**é€‰å‹ç†ç”±**:
- ACIDä¿è¯ï¼Œæ•°æ®ä¸€è‡´æ€§å¼º
- JSON/JSONBæ”¯æŒï¼Œçµæ´»æ€§é«˜
- æ€§èƒ½ä¼˜ç§€ï¼Œæ”¯æŒå¤æ‚æŸ¥è¯¢
- å¼€æºå…è´¹ï¼Œç¤¾åŒºæ´»è·ƒ

**æ›¿ä»£æ–¹æ¡ˆ**:
- MySQL: æ›´æµè¡Œï¼Œä½†JSONæ”¯æŒä¸å¦‚PostgreSQL
- MongoDB: çµæ´»æ€§é«˜ï¼Œä½†ç¼ºå°‘ACIDä¿è¯

#### Prisma 5.x
**é€‰å‹ç†ç”±**:
- TypeScriptåŸç”Ÿæ”¯æŒï¼Œç±»å‹å®‰å…¨
- è‡ªåŠ¨ç”Ÿæˆç±»å‹å®šä¹‰
- è¿ç§»ç®¡ç†å‹å¥½
- æŸ¥è¯¢æ€§èƒ½ä¼˜ç§€

**æ›¿ä»£æ–¹æ¡ˆ**:
- TypeORM: åŠŸèƒ½æ›´å¼ºï¼Œä½†æ€§èƒ½ä¸å¦‚Prisma
- Sequelize: æˆç†Ÿç¨³å®šï¼Œä½†TypeScriptæ”¯æŒä¸ä½³

### 2.3 ç¼“å­˜å’Œé˜Ÿåˆ—

#### Redis 7.x
**é€‰å‹ç†ç”±**:
- é«˜æ€§èƒ½ï¼Œæ”¯æŒå¤šç§æ•°æ®ç»“æ„
- æŒä¹…åŒ–æ”¯æŒï¼Œæ•°æ®ä¸ä¸¢å¤±
- åˆ†å¸ƒå¼é”ï¼Œå¹¶å‘æ§åˆ¶
- å‘å¸ƒè®¢é˜…ï¼Œæ¶ˆæ¯é˜Ÿåˆ—

**æ›¿ä»£æ–¹æ¡ˆ**:
- Memcached: æ›´ç®€å•ï¼Œä½†åŠŸèƒ½æœ‰é™
- RabbitMQ: æ¶ˆæ¯é˜Ÿåˆ—ä¸“ç”¨ï¼Œä½†å¤æ‚åº¦é«˜

#### Bull 4.x
**é€‰å‹ç†ç”±**:
- åŸºäºRedisï¼Œæ€§èƒ½ä¼˜ç§€
- æ”¯æŒå»¶è¿Ÿä»»åŠ¡å’Œå®šæ—¶ä»»åŠ¡
- ç›‘æ§å‹å¥½ï¼Œå¯è§†åŒ–ç•Œé¢
- å¯é æ€§é«˜ï¼Œæ”¯æŒé‡è¯•

**æ›¿ä»£æ–¹æ¡ˆ**:
- BullMQ: Bullçš„å‡çº§ç‰ˆï¼Œä½†ç”Ÿæ€ä¸å¤Ÿæˆç†Ÿ
- Agenda: åŸºäºMongoDBï¼Œä½†æ€§èƒ½ä¸å¦‚Bull

---

## 3. åŒºå—é“¾é›†æˆ

### 3.1 åˆçº¦äº¤äº’

#### Ethers.js 6.x
**é€‰å‹ç†ç”±**:
- æˆç†Ÿç¨³å®šï¼Œæ–‡æ¡£å®Œå–„
- ç¤¾åŒºæ´»è·ƒï¼Œé—®é¢˜è§£å†³å¿«
- åŠŸèƒ½å…¨é¢ï¼Œæ”¯æŒæ‰€æœ‰EVMé“¾
- TypeScriptæ”¯æŒè‰¯å¥½

**æ›¿ä»£æ–¹æ¡ˆ**:
- Viem: æ›´è½»é‡ï¼Œä½†åç«¯ä½¿ç”¨Ethers.jsæ›´æˆç†Ÿ
- Web3.js: åŠŸèƒ½å…¨é¢ï¼Œä½†APIè®¾è®¡è€æ—§

### 3.2 äº‹ä»¶ç´¢å¼•

#### The Graph
**é€‰å‹ç†ç”±**:
- é«˜æ€§èƒ½ï¼Œæ”¯æŒGraphQLæŸ¥è¯¢
- å®æ—¶æ›´æ–°ï¼Œå»¶è¿Ÿä½
- å»ä¸­å¿ƒåŒ–ï¼Œå¯é æ€§é«˜
- æ”¯æŒå¤šé“¾

**æ›¿ä»£æ–¹æ¡ˆ**:
- è‡ªå»ºç´¢å¼•æœåŠ¡: çµæ´»æ€§é«˜ï¼Œä½†å¼€å‘æˆæœ¬é«˜
- Moralis: åŠŸèƒ½å…¨é¢ï¼Œä½†ä¸­å¿ƒåŒ–

### 3.3 èŠ‚ç‚¹æœåŠ¡

#### Alchemy
**é€‰å‹ç†ç”±**:
- å¯é æ€§é«˜ï¼Œ99.9% SLA
- APIä¸°å¯Œï¼ŒåŠŸèƒ½å…¨é¢
- ç›‘æ§å‹å¥½ï¼Œå®æ—¶å‘Šè­¦
- å…è´¹é¢åº¦å……è¶³

**æ›¿ä»£æ–¹æ¡ˆ**:
- Infura: æ›´æˆç†Ÿï¼Œä½†å…è´¹é¢åº¦è¾ƒå°‘
- QuickNode: æ€§èƒ½ä¼˜ç§€ï¼Œä½†ä»·æ ¼è¾ƒé«˜

---

## 4. å®‰å…¨æ–¹æ¡ˆ

### 4.1 è®¤è¯å’Œæˆæƒ

#### JWT + Refresh Token
**å®ç°æ–¹æ¡ˆ**:
```typescript
// Access Token: 15åˆ†é’Ÿè¿‡æœŸ
// Refresh Token: 7å¤©è¿‡æœŸ
// å­˜å‚¨: Access Tokenå­˜localStorage, Refresh Tokenå­˜HttpOnly Cookie

interface JWTPayload {
  userId: string;
  role: 'admin' | 'institution' | 'investor';
  permissions: string[];
}

// è®¤è¯æµç¨‹
1. ç”¨æˆ·ç™»å½• â†’ è¿”å›Access Token + Refresh Token
2. è¯·æ±‚API â†’ æºå¸¦Access Token
3. Access Tokenè¿‡æœŸ â†’ ä½¿ç”¨Refresh Tokenåˆ·æ–°
4. Refresh Tokenè¿‡æœŸ â†’ é‡æ–°ç™»å½•
```

#### RBACï¼ˆåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼‰
**è§’è‰²å®šä¹‰**:
- **Super Admin**: å¹³å°è¶…çº§ç®¡ç†å‘˜
- **Institution Admin**: æœºæ„ç®¡ç†å‘˜
- **Institution Operator**: æœºæ„æ“ä½œå‘˜
- **Investor**: æŠ•èµ„è€…
- **Property Owner**: æˆ¿äº§æ‰€æœ‰è€…

**æƒé™çŸ©é˜µ**:
| åŠŸèƒ½ | Super Admin | Institution Admin | Institution Operator | Investor | Property Owner |
|------|-------------|-------------------|---------------------|----------|----------------|
| åˆ›å»ºæœºæ„ | âœ… | âŒ | âŒ | âŒ | âŒ |
| è´¨æŠ¼ABLE | âŒ | âœ… | âŒ | âŒ | âŒ |
| åˆ›å»ºèµ„äº§ | âŒ | âœ… | âœ… | âŒ | âŒ |
| è´­ä¹°ä»£å¸ | âŒ | âŒ | âŒ | âœ… | âŒ |
| å……å€¼ç§Ÿé‡‘ | âŒ | âŒ | âŒ | âŒ | âœ… |

### 4.2 æ•°æ®åŠ å¯†

#### AES-256åŠ å¯†
**åŠ å¯†èŒƒå›´**:
- ç”¨æˆ·æ•æ„Ÿä¿¡æ¯ï¼ˆèº«ä»½è¯å·ã€æŠ¤ç…§å·ï¼‰
- KYCæ–‡æ¡£
- ç§é’¥ï¼ˆå¦‚æœæ‰˜ç®¡ï¼‰

**åŠ å¯†æ–¹æ¡ˆ**:
```typescript
// ä½¿ç”¨crypto-jsåº“
import CryptoJS from 'crypto-js';

// åŠ å¯†
const encrypted = CryptoJS.AES.encrypt(
  plaintext,
  process.env.ENCRYPTION_KEY
).toString();

// è§£å¯†
const decrypted = CryptoJS.AES.decrypt(
  encrypted,
  process.env.ENCRYPTION_KEY
).toString(CryptoJS.enc.Utf8);
```

### 4.3 APIå®‰å…¨

#### Rate Limiting
**é™æµç­–ç•¥**:
- ç™»å½•æ¥å£: 5æ¬¡/åˆ†é’Ÿ
- æ³¨å†Œæ¥å£: 3æ¬¡/å°æ—¶
- æŸ¥è¯¢æ¥å£: 100æ¬¡/åˆ†é’Ÿ
- äº¤æ˜“æ¥å£: 10æ¬¡/åˆ†é’Ÿ

**å®ç°æ–¹æ¡ˆ**:
```typescript
// ä½¿ç”¨@nestjs/throttler
import { ThrottlerModule } from '@nestjs/throttler';

ThrottlerModule.forRoot({
  ttl: 60,
  limit: 100,
});
```

#### CORS + CSP
**CORSé…ç½®**:
```typescript
app.enableCors({
  origin: ['https://app.rwa-husd.com'],
  credentials: true,
});
```

**CSPé…ç½®**:
```typescript
helmet.contentSecurityPolicy({
  directives: {
    defaultSrc: ["'self'"],
    scriptSrc: ["'self'", "'unsafe-inline'"],
    styleSrc: ["'self'", "'unsafe-inline'"],
    imgSrc: ["'self'", 'data:', 'https:'],
  },
});
```

---

## 5. éƒ¨ç½²æ–¹æ¡ˆ

### 5.1 å®¹å™¨åŒ–

#### Docker
**Dockerfileç¤ºä¾‹**:
```dockerfile
FROM node:20-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
RUN npm run build
EXPOSE 3000
CMD ["npm", "run", "start:prod"]
```

#### Docker Compose
**docker-compose.ymlç¤ºä¾‹**:
```yaml
version: '3.8'
services:
  frontend:
    build: ./frontend
    ports:
      - "3000:3000"
  backend:
    build: ./backend
    ports:
      - "4000:4000"
    depends_on:
      - postgres
      - redis
  postgres:
    image: postgres:15
    environment:
      POSTGRES_DB: rwa_husd
      POSTGRES_USER: admin
      POSTGRES_PASSWORD: ${DB_PASSWORD}
  redis:
    image: redis:7-alpine
```

### 5.2 Kubernetes

#### Deploymenté…ç½®
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: backend
spec:
  replicas: 3
  selector:
    matchLabels:
      app: backend
  template:
    metadata:
      labels:
        app: backend
    spec:
      containers:
      - name: backend
        image: rwa-husd/backend:latest
        ports:
        - containerPort: 4000
        env:
        - name: DATABASE_URL
          valueFrom:
            secretKeyRef:
              name: db-secret
              key: url
```

### 5.3 CI/CD

#### GitHub Actions
```yaml
name: Deploy to Production
on:
  push:
    branches: [main]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Build Docker Image
        run: docker build -t rwa-husd/backend:${{ github.sha }} .
      - name: Push to Registry
        run: docker push rwa-husd/backend:${{ github.sha }}
      - name: Deploy to K8s
        run: kubectl set image deployment/backend backend=rwa-husd/backend:${{ github.sha }}
```

---

**æ–‡æ¡£ç»´æŠ¤**: RWA-HUSD æŠ€æœ¯å›¢é˜Ÿ  
**è”ç³»æ–¹å¼**: tech@rwa-husd.com  
**æœ€åæ›´æ–°**: 2025-10-11 09:10:00 CST

